<section *ngIf="currentOver">
  <mat-card>
    <!-- Header  -->
    <div class="header-section">
      <mat-card-title
        >Current Over : {{ currentOver.currentOver }}</mat-card-title
      >
      <mat-card-subtitle
        >Balls Left in Over: {{ currentOver.ballsLeft }}</mat-card-subtitle
      >
    </div>

    <!-- Body containg List -->
    <mat-card-content *ngIf="currentOver.balls">
      <mat-divider></mat-divider>

      <!-- Current Over Ball List FOR TABLET >>> -->
      <mat-selection-list
        [multiple]="false"
        disableRipple
        class="hide-on-mobile"
      >
        <div mat-subheader>Balls</div>
        <mat-divider></mat-divider>

        <!-- List Element -->
        <mat-list-option
          [style.height.px]="75"
          *ngFor="let b of currentOver.balls; index as i"
        >
          <div style="display: flex; flex-wrap: wrap">
            <!-- COL 1 -->
            <div
              style="flex: 0 0 10%; width: 10%"
              fxLayout="column"
              fxLayoutAlign="center center"
            >
              {{ currentOver.currentOver }}.{{ i + 1 }}
            </div>

            <!-- COL 2 -->
            <div
              style="flex: 0 0 10%; width: 10%"
              fxLayout="column"
              fxLayoutAlign="center center"
            >
              <mat-chip
                disableRipple
                selectable="false"
                [ngStyle]="{
                  'background-color':
                    b.is4 == true
                      ? '#FFF176'
                      : b.is6 == true
                      ? '#81C784'
                      : '#EDF0F2'
                }"
              >
                <span class="run-chip">{{ b.runs }}</span></mat-chip
              >
            </div>

            <!-- COL 3 -->
            <div style="flex: 0 0 20%; width: 20%">
              <p>Striker:</p>
              <p>{{ b.striker?.name }}</p>
            </div>

            <!-- COL 4 -->
            <div style="flex: 0 0 20%; width: 20%">
              <p>Bowler:</p>
              <p>{{ b.bowler?.name }}</p>
            </div>

            <!-- COL 5 -->
            <div style="flex: 0 0 20%; width: 20%">
              <div *ngIf="b.extras.length > 0">
                <p>Extras:</p>
                <mat-chip-list>
                  <mat-chip *ngFor="let e of b.extras" selected>
                    {{ getType(e) }}
                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>
            <div style="flex: 0 0 20%; width: 20%">
              <div *ngIf="b.Out.isOut">
                <p>Out:</p>

                <mat-chip-list>
                  <mat-chip selected color="warn">
                    {{ getType(b.Out.type) }}
                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>
          </div>
        </mat-list-option>
      </mat-selection-list>
    </mat-card-content>
  </mat-card>
</section>

<section *ngIf="over.overNumber != 0">
  <mat-card>
    <mat-card-content *ngIf="over.balls.length > 0">
      <!-- HEADER -->
      <div
        fxLayout.lg="row"
        fxLayout.md="column"
        fxLayout.xs="column"
        fxLayout.sm="column"
        fxLayoutAlign="space-between center"
      >
        <!-- SCORE SUMMARY -->
        <div
          fxLayout="row"
          fxLayoutAlign="space-between center"
          fxLayoutGap="10"
          class="osum-header"
        >
          <mat-card-title>Over {{ over.overNumber }}</mat-card-title>
          <mat-card-title>Runs {{ getTotalRuns(over.balls) }}</mat-card-title>
          <mat-card-title
            >Score {{ over.score }} - {{ over.wickets }}</mat-card-title
          >
        </div>

        <!-- BALL BY BALL SUMARRY CHIPS -->
        <div fxLayout="row" fxLayoutAlign="center center" class="osum-chips">
          <mat-chip-list>
            <mat-chip *ngFor="let b of over.balls" selected>
              <span *ngIf="b.runs > 0 || b.extras.length < 1"
                >{{ b.runs }}
              </span>
              <span *ngFor="let e of b.extras" style="margin-left: 2px">
                {{ e }}
              </span>
            </mat-chip>
          </mat-chip-list>
        </div>
      </div>

      <mat-divider></mat-divider>

      <!-- <div class="osum-players">
        <mat-list>
          <div mat-subheader>Batters</div>
          <mat-list-item>
            <mat-icon mat-list-icon>sports_cricket</mat-icon>
            <div mat-line>{{ getPlayerName(over.striker) }}</div>
            <div mat-line>{{ getPlayerRB(over.striker) }}</div>
          </mat-list-item>
          <mat-list-item>
            <mat-icon mat-list-icon>sports_cricket</mat-icon>
            <div mat-line>{{ getPlayerName(over.nonStriker) }}</div>
            <div mat-line>{{ getPlayerRB(over.nonStriker) }}</div>
          </mat-list-item>

          <mat-divider></mat-divider>

          <div mat-subheader>Bowlers</div>
          <mat-list-item>
            <mat-icon mat-list-icon>sports_baseball</mat-icon>
            <div mat-line>{{ getPlayerName(over.bowler) }}</div>
            <div mat-line>{{ "Placeholder" }}</div>
          </mat-list-item>
        </mat-list>
      </div> -->

      <!-- <mat-divider></mat-divider> -->

      <mat-accordion class="example-headers-align" multi>
        <!-- BATTER PANEL -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Batters </mat-panel-title>
            <mat-panel-description>
              Batter Summary
              <mat-icon>sports_cricket</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <!-- Content -->

          <div class="osum-players">
            <mat-list>
              <mat-list-item>
                <mat-icon mat-list-icon>sports_cricket</mat-icon>
                <div mat-line>{{ getPlayerName(over.striker) }}</div>
                <div mat-line>{{ getPlayerRB(over.striker) }}</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon mat-list-icon>sports_cricket</mat-icon>
                <div mat-line>{{ getPlayerName(over.nonStriker) }}</div>
                <div mat-line>{{ getPlayerRB(over.nonStriker) }}</div>
              </mat-list-item>
            </mat-list>
          </div>

          <!-- End of Content -->
        </mat-expansion-panel>

        <!-- BOWLER PANEL -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Bowlers </mat-panel-title>
            <mat-panel-description>
              Bowler Summary
              <mat-icon>sports_baseball</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <!-- Content -->

          <div class="osum-players">
            <mat-list>
              <mat-list-item>
                <mat-icon mat-list-icon>sports_baseball</mat-icon>
                <div mat-line>{{ getPlayerName(over.bowler) }}</div>
                <div mat-line>{{ "Placeholder" }}</div>
              </mat-list-item>
            </mat-list>
          </div>

          <!-- End of Content -->
        </mat-expansion-panel>

        <!-- BALL BY BALL PANEL -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Ball By Ball </mat-panel-title>
            <mat-panel-description>
              Ball by Ball Summary
              <mat-icon>scoreboard</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <!-- Content -->
          <mat-selection-list
            class="hide-on-mobile"
            [multiple]="false"
            disableRipple
          >
            <div mat-subheader>Balls</div>
            <mat-divider></mat-divider>

            <mat-list-option
              [style.height.px]="75"
              *ngFor="let b of over.balls; index as i"
            >
              <div style="display: flex; flex-wrap: wrap">
                <!-- COL 1 -->
                <div
                  style="flex: 0 0 10%; width: 10%"
                  fxLayout="column"
                  fxLayoutAlign="center center"
                >
                  {{ over.overNumber }}.{{ i + 1 }}
                </div>

                <!-- COL 2 -->
                <div
                  style="flex: 0 0 10%; width: 10%"
                  fxLayout="column"
                  fxLayoutAlign="center center"
                >
                  <mat-chip
                    disableRipple
                    selectable="false"
                    [ngStyle]="{
                      'background-color':
                        b.is4 == true
                          ? '#FFF176'
                          : b.is6 == true
                          ? '#81C784'
                          : '#EDF0F2'
                    }"
                  >
                    <span class="run-chip">{{ b.runs }}</span></mat-chip
                  >
                </div>

                <!-- COL 3 -->
                <div style="flex: 0 0 20%; width: 20%">
                  <p>Striker:</p>
                  <p>{{ b.striker?.name }}</p>
                </div>

                <!-- COL 4 -->
                <div style="flex: 0 0 20%; width: 20%">
                  <p>Bowler:</p>
                  <p>{{ b.bowler?.name }}</p>
                </div>
                <div style="flex: 0 0 20%; width: 20%">
                  <div *ngIf="b.extras.length > 0"></div>
                  <p>Extras:</p>
                  <mat-chip-list>
                    <mat-chip *ngFor="let e of b.extras" selected>
                      {{ getType(e) }}
                    </mat-chip>
                  </mat-chip-list>
                </div>
                <div style="flex: 0 0 20%; width: 20%">
                  <div *ngIf="b.Out.isOut">
                    <p>Out:</p>

                    <mat-chip-list>
                      <mat-chip selected color="warn">
                        {{ getType(b.Out.type) }}
                      </mat-chip>
                    </mat-chip-list>
                  </div>
                </div>
              </div>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-card-content>
  </mat-card>
</section>
